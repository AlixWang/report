# 工具版本

参考

-   [Mysql] 5.7

-   [Jdk] 1.8

-   [Spring Boot] 2.3.5

-   [Mybatis-plus] 3.3.2

-   [flyway] 5.2.1

-   [Apache Maven] 3.5

-   [Node.js] 14.16.0

-   [Windows 10]

实际

Mysql 5.7.34

JDK 1.8u291

IdeaJ 2020.2.1

Spring Boot DTD

Maven 3.5.4

Windows7

Git 2.33.0 x64

Node 13.14.0-x64

Vscode 1.59.0

# 环境准备

前端：

后端：

## 后端

### Mysql

下载msi文件

![](media/7f1bc9e3a10e776cfd129265bc210ba1.png)

![](media/294611e3a0c673df97180f2502e7aab4.png)

![](media/ba439774e4355e427eb5aa4b020954c3.png)

![](media/5f332403704a2dbe384ef0e0d246d081.png)

![](media/94d417d549cd9583d57c2e77a9eaeb84.png)

![](media/65672b3a036c5db82c01932531de80d3.png)

![](media/19e04bcd4d9ec1c8939c7b5da6eab3bd.png)

![](media/815f632367e27a487429252f8fc7a4b9.png)

![](media/20a3bb558fe42a96f723fa8902fd4168.png)

![](media/8c1425d016e2842a55ca5c6f6a13c20e.png)

![](media/245c25e50ae4e9c0202a00fdb22e4a31.png)

### JDK

一直下一步，直至完成。

![](media/82946e768cda375bcde7c68a0b9958fa.png)

配置环境变量

JAVA_HOME C:\\Program Files\\Java\\jdk1.8.0_291

![](media/b8b8b87f7c86b2efc5695217db68c312.png)

![](media/6b005205c923c20985b5371941a5533d.png)

### IdeaJ

![](media/c5e32a71e7af0d70d834ab043353499d.png)

![](media/d849470f3656b62f2db558e174dcc47b.png)

![](media/ec18cbeed650f2175537c9bfcedb4440.png)

以上选项，都可以不选，不影响。

![](media/51ea17b642c94f9e59797e12e8aa34cb.png)

![](media/cbf2feae441dae803d288b3c09dc3ec4.png)

![](media/9b7f78ee61f533a2976470f16c8d1845.png)

首次登陆

![](media/96f3c95d1ded662c4fa9991404dd8e00.png)

![](media/86633b82313435ca8d8ae6f07ec3338d.png)

![](media/0fecb04cbb187880d40643f28d9b8d1f.png)

### Maven

下载地址

https://dlcdn.apache.org/maven/maven-3/3.5.4/binaries/

![](media/ffedd2140d460383ecafb869746487e0.png)

将压缩包解压到

![](media/1ef48099e17fa5a5b01c63f8ca4ba566.png)

添加环境变量M2_HOME C:\\Program Files\\apache-maven-3.5.4

（旧版变量写法：MAVEN_HOME）

![](media/914728ab1036a53de6f0a924848cae04.png)

Path环境变量，增加 ;%M2_HOME%C:\\bin

![](media/dd33107f86c6cb0f481b127c122a9766.png)

![](media/74569347d6ae8fea5befe43cb7bfaedf.png)

![](media/b5f0287d75383a5818b245ae25381f07.png)

### 插件

IdeaJ安装spring boot开发插件

已自带，不用再安装。

![](media/74d38d842de0da091dff5bf4a2f47f0d.png)

安装lombok

![](media/a58b9fa31f924be4a4bf0789b4e1c5ef.png)

## 公共

### Git

![](media/41d19f2477448752f90b2ccaffaff3c8.png)

![](media/e358ef80095499b1d402c72ba6ee53dc.png)

![](media/c4e1151c3c9886b167ca9aabd9db8248.png)

![](media/ab4d2b0687cc2335dadb76ab9d2b09d0.png)

![](media/c3f91170e4b970b50ba97fbfe5e3801a.png)

![](media/5271ec564361a19600151e9bdc7c27f4.png)

![](media/bb773b1256b545f4dce79aa493596cb8.png)

![](media/73001f344928b48a3504eadff8e30c52.png)

![](media/efc982994ff3e8046de4dead297512b3.png)

![](media/dec84180e3004f198f81334df91db8d5.png)

![](media/3af73e9328ab2ecf5eaecbff9915b035.png)

![](media/0f39df5bd3b5b3837b3cf0692d19e484.png)

![](media/f6dc06279ed0f82084079418742ac393.png)

![](media/dca45f8c2db24c61d7efe7e403f17f81.png)

![](media/8cb9684c9bdaed3bc179aaa9d6b83336.png)

如下界面表示安装成功

![](media/07bdf1f74c9b5c3cdeb982d998d2bbf0.png)

为idea指定git路径

默认情况下，IDEA是不自带git运行程序的，所以需要通过  
菜单-\>settings-\>Version Control-\>Git-\>Path to Git executable:
设置为安装git中所安装的git.exe

![](media/5acd9c5cefc0c1e985f8e0df5e4f5471.png)

获取gitee上面的要拉取的项目url

![](media/4e535b69aa49c9b4fbf1587e6493cce4.png)

file -\> new -\> Project from Version Control -\> Git

![](media/070caaea8f674f84c61d3aba4f79196b.png)

点击【Clone】，开始拉代码。

![](media/09415f0854ca0cdd8b307404e0bf77cf.png)

![](media/5531f4b3a9ef5dbaade425e55ee0728f.png)

## 前端

### Node

下一步

![](media/a2c3f8ce5fbdd1206d6bb877bfea8bc8.png)

![](media/bf9caa07ae05051b42019874043f2447.png)

![](media/1983bd86ebb039f2ccedcff5c3f67ab9.png)

![](media/0ceabfe3fc4a056cd2ee0e629f2d70fa.png)

![](media/c8401951bb24ccd9119e49f6846e7e13.png)

![](media/1ffaaef54f4955fe14741ca6d5f51b3a.png)

![](media/7d404fd56e5818ea422ac9c3dcd89cab.png)

![](media/d4c324446a35f22133d8ee502396bd84.png)

![](media/016171d8b0f67a4a9f2c262639adb87e.png)

### Vscode

![](media/21737eb2f3aadd08c7671fdd9601286a.png)

![](media/133d5e3d81a946d4e895cee1b3c1a557.png)

![](media/adb143e6672d981547821d027ce1e2f8.png)

![](media/789768d77d5035d23ca2627637f6eaf9.png)

![](media/c4ed42a43e0f63259d1e4122e56b5bbe.png)

# 开发环境

## 前端

### 下载源码

新建文件夹C:\\vsproj用于存放前端项目源码

![](media/0182dbf52fa6f24772bbd6e028c93497.png)

下载源码，在vscode使用【ctrl】+【\`】或者【Terminal】-\>【New
Terminal】。用cd命令进入相应的文件夹。

![](media/71e01355fc8f010d3cb6f2791c5571f1.png)

执行git clone https://gitee.com/anji-plus/report.git，拉代码。

![](media/f09e7afc1184a5d594320da81040a106.png)

![](media/8bc69ddd173fd0502f3eb3cd1dc5dfee.png)

![](media/7b68b659469be16e561d2788356aac5b.png)

### 设置环境

调整连接后端的IP，改为后端API代码所在的IP、所使用的端口。

![](media/065c3065d866be1c7c3bfff954163412.png)

### 编译运行

![](media/a001c635e877f905d2623c5ce71bd73b.png)

前端所在文件夹：vsproj\\report

![](media/dbf90e6d9fb6a9787c615da30dd034d0.png)

\>git checkout dev

\>git checkout -b xxx

\>git branch -D xxx

进入前端代码文件夹，执行如下命令：

命令一：cd ….\\report\\report-ui

命令二：npm init -y //会调整package.json

![](media/3cb0cbe6e2f1ce952b2c3156a5e4f8ef.png)

命令三：npm install

![](media/8307210b1db90152626f1aa9e75a211f.png)

命令四：npm run dev

![](media/a379fe0384ca0589fd8edff9fc974fbb.png)

![](media/9b6cb49caf8e6d03b586e2231507396e.png)

![](media/96c1af2823d7508aa94241cfdbbe5a5f.png)

## 后端

新建文件夹用于存放后端代码C:\\ijproj，将git下载的代码解压至该目录。

### 下载源码

具体步骤见2.2.1Git

### 依赖插件

下载依赖和插件。Git完代码后，会自动下载依赖和插件。如果pom中的依赖和插件爆红。可设置maven，File
——\> Settings。以下设置均采用的是IdeaJ所带maven插件。

![](media/d84a373c054270de7930578b7efc3b29.png)

如上图配置后，重新下载依赖和插件

![](media/b3918a6c6f539cf5a104ff5c5ce6bcda.png)

遇到个别顽固爆红的依赖和插件，可以直接在本地资料库.m2\\repository中查找，确认是否已经下载。确认已经下载的话，则可以尝试在该依赖或者插件中增加版本号（与资料库中的一致，org.springframework.boot对应的路径
资料库路径\\org\\springframework\\boot，spring-boot-maven-plugin对应上述路径的子文件夹spring-boot-maven-plugin，此文件夹即spring-boot-maven-plugin的子文件夹是版本号2.3.5.RELEASE，打开2.3.5.RELEASE就是对应的jar包等内容）。

![](media/3e4e904ccb6b7d9891829d447a858e7f.png)

![](media/4b5006dee453b48b42b5a82bc50c634c.png)

![](media/1a8313bcf6284536adcafb4d0fe53a63.png)

### 设置Mysql

设置好mysql，以便运行时，自动进行初始化。

![](media/200ef4e56b09d7ef7c556eba2a31ff53.png)

调整为mysql的现有配置

![](media/360a42ae253cf7e791e74b58fbbcdaf3.png)

\-dev，-prod也调整数据库

### 运行后端

确认启动了Mysql服务

![](media/4ec2adf8f97d3de25837ee7f1f183cd8.png)

![](media/b202f96043ed726c84fd807da5141b79.png)

![](media/23bea279d0acf87487eb8ca7c5ad601b.png)

说明后端服务已经启动，如下图所示

![](media/3b5c40f9de9fa6a992aef8c7731f138a.png)

## 启动

数据库、后端、前端

1确保mysql已经启动

2运行后端代码

![](media/6835c0968136ea8cd256f974587511a1.png)

3运行前端代码

![](media/fd69677be81a7b2a65e17983ecabafb6.png)

用户：admin

密码：123456

![](media/ae37f11d17931c99ec64b5cea9840123.png)

# 错误

## 问题一

遇到Error creating bean with name 'flywayInitializer' defined in class path
resource解决办法

![](media/7efb25dcf176029f87a8aa5205729311.png)

将这个Resolved
locally后面的**版本号复制**下来，连着符号一起复制，然后找到你数据库中的**flyway_schema
\_history**这个表，在最下面那一行数据中把刚刚复制的版本号替换进去就可以了。

![](media/59017d817e518089d57c1c7fcfc3e5cb.png)

## 问题二

问题现象：报表设计界面中看不到图表，

查看日志，Access denied for user 'ajreport'@'localhost' (using password: YES)

![](media/0f432b2b67e7c4cdcc2f38346172b150.png)

默认用户ajreport，密码ajreport

改为初始化时的，用户root，密码root

![](media/f06b510a725b15f36167b49a65778839.png)
